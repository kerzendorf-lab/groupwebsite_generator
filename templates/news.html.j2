{% extends 'base.html.j2' %}

{% block title %}
    News | {{ general.website_title }}
{% endblock %}

{% block additional_fonts %}
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;600&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@200;300;500;700;900&amp;display=swap" rel="stylesheet">
{% endblock %}

{% block additional_style %}
    <div id="_bsa_srv-CKYI627U_0"></div>
    <div id="_bsa_srv-CKYI653J_1"></div>
    <!-- Buttons-->
    <style>
        .button {
            padding: 15px 25px;
            font-size: 20px;
            text-align: center;
            cursor: pointer;
            outline: none;
            color: #fff;
            background-color: #7750bb;
            border: none;
            border-radius: 15px;
            box-shadow: 0 9px #999;
        }

        .button:hover {
            background-color: #9669e5
        }

        .button:active {
            background-color: #a087cc;
            box-shadow: 0 5px #666;
            transform: translateY(4px);
        }

        @media (min-width: 998px) {
            .shift {
                padding-left: 17%;
            }
        }

        .heading {
            color: #000;
            /* Default color */
            text-decoration: none;
        }

        .heading:hover {
            background-image: linear-gradient(to left, #673ab7, #673ab7);
            /* Gradient from right to left */
            -webkit-background-clip: text;
            /* Apply gradient as text color */
            -webkit-text-fill-color: transparent;
            /* Make text transparent */
        }
    </style>
{% endblock %}


{% block content %}
    <!-- about banner -->
        <section class="w3l-about-breadcrumb text-center">
            <div class="breadcrumb-bg breadcrumb-bg-people py-5">
                <div class="container py-lg-5 py-md-4">
                    <div class="banner-info-grid px-md-5" style="margin-top: 2%;">
                        <h2 class="w3l-title-breadcrumb mb-3">News</h2>
                    </div>
                </div>
            </div>
        </section>
    <!-- //about banner -->

    <!-- Blog Section -->

        <section class="w3l-blog shift">
            <div class="blog py-5" id="Newsblog">
                <div class="container py-lg-5 py-md-4 py-2">
                    {% for news_info in content.itertuples() %}
                    <div class="row" style="padding-top: 5%;">
                        <div class="col-lg-6 col-md-6 item" style="width: 520px;">
                            <div class="card">
                                <div class="card-header p-0 position-relative">
                                    {% if news_info.category == category %}
                                <a href="news/{{ news_info.article_id|replace(' ', '_')|lower  }}.html"
                                    class="zoom d-block">
                                    {% endif %}
                                    {% if news_info.category != category %}
                                    <a href="sub_research/{{ news_info.category|replace(' ', '_')|lower  }}/{{ news_info.article_id|replace(' ', '_')|lower  }}.html"
                                        class="zoom d-block">
                                        {% endif %}
                                        <img style="width: 520px; height: 330px" class="card-img-bottom d-block"
                                            src="{{ news_info.cover_image }}" alt="array">
                                    </a>
                                    <div class="date">
                                        <p>{{ news_info.date.strftime('%m-%d-%Y') }}</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-4 col-md-6 item">
                            <div class="card">
                                <div class="card-body blog-details" style="max-height: 330px">
                                    {% if news_info.category == category %}
                                    <a href="news/{{ news_info.article_id|replace(' ', '_')|lower  }}.html"
                                        class="zoom d-blog">
                                        {% endif %}
                                        {% if news_info.category != category %}
                                        <a href="sub_research/{{ news_info.category|replace(' ', '_')|lower  }}/{{ news_info.article_id|replace(' ', '_')|lower  }}.html"
                                            class="zoom d-blog">
                                            {% endif %}
                                            <div class="heading">
                                                <h5
                                                    style="font-weight: bold; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; font-size:19px; height:70px ">
                                                    {{ news_info.title }}
                                                </h5>
                                        </a>
                                </div>
                                <hr style="border-top: 1px dotted rgba(143, 143, 143);">
                                <div class="price-review mb-1 align-items-center">
                                    <p
                                        style="font-size: 15px; overflow: hidden; text-overflow: ellipsis; display: -webkit-box; -webkit-line-clamp: 4; -webkit-box-orient: vertical; height:109px">
                                        {{ news_info.short_description }}
                                    </p>
                                </div>
                            </div>
                            <div class="card-footer">
                                <div>
                                    <ul class="blog-meta">
                                        <li>
                                            <a style="font-size:10px">Contributer(s):</a>
                                        </li>
                                        {% for person_id in news_info.people_involved_ids %}
                                        {% if person_id in member_data %}

                                            {% set member_info = member_data[person_id] %}

                                            {% set member_name = member_info.get('name') %}
                                        <li>
                                            <a href="/members/{{ person_id }}/{{ person_id }}.html" target="_blank">
                                                <p style="font-size: 10px; height:35px"> {{member_name.strip().split(" ")[0]}}</p>
                                            </a>
                                        </li>

                                            {% elif person_id.strip().split(' ')[-1].strip().lower().startswith("http://") or
                                            person_id.strip().split(' ')[-1].strip().lower().startswith("https://") %}
                                            <li>
                                                <a href="{{ person_id.strip().split(' ')[-1] }}" target="_blank"
                                                    style="font-size: 10px;">
                                                    {{ person_id.strip().split(' ')[0] }}
                                                </a>
                                            </li>
                                        
                                        {% else %}
                                        <li>
                                            <a style="font-size: 10px;">
                                                {{ person_id }}
                                            </a>
                                        </li>
                                        {% endif %}

                                        {% if not loop.last %}
                                        <li>, </li>
                                        {% endif %}
                                        {% endfor %}
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
            </div>
        </section>

    <!-- //Blog Section -->
{% endblock %}